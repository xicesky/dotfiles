#!/bin/bash

declare type="day"

if [[ $# -gt 0 ]] ; then
    case "$1" in
    -d|--day)       type="day"; shift ;;
    -m|--minute)    type="minute"; shift ;;
    -u|--unique)    type="unique"; shift ;;
    *)  error 1 "Unknown argument: $1" || return $? ;;
    esac
fi

case "$type" in
day)        date "+%Y%m%d" ;;
minute)     date "+%Y%m%d-%H%M" ;;
unique)     echo -n "$(date "+%Y%m%d-%H%M")-$(uuidgen)";  ;;
esac
